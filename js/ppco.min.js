$(document).ready(function(){var a=function(a,b,c,d){var e="<input type=\"hidden\" class=\"xpan_form_element\" name=\"session_id[]\" value=\""+a+"\">";return e+="<input type=\"hidden\" class=xpan_form_element\" name=\"is_playlist[]\" value=\""+(d?1:0)+"\">",e+="<div class=\"form-group xpan_form_element\" id=\"il_prop_cont_embed_"+b+"\">",e+="<label for=\"embed_"+b+"\" class=\"col-sm-3 control-label\">Video</label>",e+="<div class=\"col-sm-9\">",e+="<div class=\"form_inline\">",e+=c,e+="</div>",e+="</div>",e+="</div>",e+="<div class=\"form-group xpan_form_element\" id=\"il_prop_cont_max_width_"+b+"\">",e+="<label for=\"max_width_"+b+"\" class=\"col-sm-3 control-label\">Maximale Breite in %<span class=\"asterisk\">*</span></label>",e+="<div class=\"col-sm-9\">",e+="<div class=\"form_inline\">",e+="<input style=\"text-align:right;width:auto;\" class=\"form-control\" type=\"text\" size=\"40\" id=\"max_width_"+b+"\" maxlength=\"200\" name=\"max_width[]\" required=\"required\" value=\"50\">",e+="<div class=\"help-block\"></div>",e+="</div>",e+="</div>",e+="</div>",e},b=$("#xpan_iframe"),c=b.attr("src"),d=c.substr(0,c.indexOf("/Panopto/Pages/Sessions/EmbeddedUpload.aspx")),f=$("#xpan_insert"),g=window.addEventListener?"addEventListener":"attachEvent",h=window[g],i="attachEvent"===g?"onmessage":"message",j=$("#il_prop_cont_xpan_choose_videos_link");f.prop("disabled",!0),h(i,function(b){console.log(b);var c=JSON.parse(b.data),e="",g="",h=c.ids,k=c.names;if("ready"===c.cmd&&f.prop("disabled",!1),"notReady"===c.cmd&&f.prop("disabled",!0),"deliveryList"===c.cmd){$(".xpan_form_element").remove(),h=c.ids;for(var l=h.length-1;0<=l;--l){let b=!1;c.playableObjectTypes&&1===parseInt(c.playableObjectTypes[l])?(e="?pid="+h[l],b=!0):e="?id="+h[l],g="<iframe class='xpan_form_element' id='iframe_"+l+"' src='"+d+"/Panopto/Pages/Embed.aspx"+e+"&v=1' width='450' height='256' frameborder='0' allowfullscreen></iframe>",$(a(h[l],l,g,b)).insertAfter(j)}$("#xpan_modal").modal("hide")}},!1),f.click(function(){var a=document.getElementById("xpan_iframe").contentWindow;a.postMessage(JSON.stringify({cmd:"createEmbeddedFrame"}),d)})});